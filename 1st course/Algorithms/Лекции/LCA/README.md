# LCA (Lowest common ancestor)

## Суть задачи

Наименьший общий предок (LCA) двух вершин $u$ и $v$ в дереве — это вершина, которая является наименьшей (самой глубокой) общей вершиной на пути от корня до $u$ и от корня до $v$. Задача нахождения LCA важна в различных областях, включая компьютерные сети, анализ данных и биоинформатику.

## Пример
Рассмотрим следующее дерево:
```cpp
       1
      / \
     2   3
    / \   \
   4   5   6
```
- ```LCA(4, 5) = 2```
- ```LCA(4, 6) = 1```
- ```LCA(5, 6) = 1```

## Алгоритм

Один из эффективных алгоритмов для нахождения LCA использует предварительную обработку дерева с помощью динамического программирования и обхода в глубину (DFS). Алгоритм включает следующие шаги:

1. **Обход дерева в глубину (DFS)**: Для каждой вершины определяется её глубина (или высота) относительно корня
2. **Построение таблицы предков (Sparse Table)**: Создаётся таблица предков, где для каждой вершины и каждого уровня хранится предок на этом уровне
3. **Запросы LCA**: Используя таблицу предков и глубины вершин, находим LCA двух вершин за логарифмическое время

## Сложность
- **Предварительная обработка**: $O(n \log n)$, где $n$ — количество вершин в дереве
- **Запрос LCA**: $O(\log n)$


